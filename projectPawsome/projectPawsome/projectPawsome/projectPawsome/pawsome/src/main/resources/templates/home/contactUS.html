<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Contact US</title>
    <link th:href="@{/styles/contactUS.css}" rel="stylesheet">
</head>
<body>
<div class="login-container">
    <header>
        <img th:src="@{/images/logo.png}" alt="PawsomeCompanionsLogo" width="550" height="250">
    </header>

    <form class="form1" action="https://formspree.io/f/xpzelkqk" method="POST" onsubmit="submitFormAndRedirect(event)">
        <div class="form-group">
            <h2 class="question">Questions? Message Us!</h2>
            <label for="name">Name</label>
            <input type="name" id="name" name="name" required>
        </div>

        <div class="form-group">
            <label for="name">Email</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="message">Message</label>
            <input type="message" id="message" name="message" required>
        </div>

        <div class="form-group button-row">
            <button type="submit" value="Submit">Submit</button>
            <button type="button" onclick="window.location.href='/';">Return</button>
        </div>

    </form>
</div>
</body>
</html>

<script>
    function submitFormAndRedirect(event) {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);
        fetch(form.action, {
            method: form.method,
            body: formData,
        })
            .then(response => {

                if (response.ok) {
                    alert("Form submitted successfully!");
                    window.location.replace(window.location.href='/');
                } else {
                    alert("Form submission failed. Please try again later.");
                }
            })
            .catch(error => {
                alert("Form submitted successfully!");
                console.error(error);
            });
    }
</script>